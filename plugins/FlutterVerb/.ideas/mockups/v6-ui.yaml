window:
  width: 600
  height: 640
  resizable: false

colors:
  background: "#4a3a2a"  # Dark warm brown center
  backgroundEdge: "#2a1a0a"  # Darker edges (radial gradient)
  vuMeterBg: "#1a0a00"  # Dark VU meter background
  vuMeterBorder: "#3a2a1a"  # Bronze/brown border
  vuMeterNeedle: "#d4a574"  # Classic backlit brass color
  vuMeterScale: "#c49564"  # Scale markings color
  vuMeterRedZone: "#b8453d"  # Red zone markings
  knobBody: "#3a2a1a"  # Dark brown knob body (gradient start)
  knobBodyDark: "#1a0a00"  # Darkest brown knob (gradient end)
  knobPointer: "#d4a574"  # Brass pointer line
  labelText: "#c49564"  # Brass/gold label text
  titleText: "#d4a574"  # Brass title color
  toggleBg: "#1a0a00"  # Toggle background
  toggleBorder: "#3a2a1a"  # Toggle border
  toggleOff: "#4a3a2a"  # Toggle handle when off
  toggleOn: "#d4a574"  # Toggle handle when on (brass)
  toggleStateText: "#8a7a6a"  # Muted toggle state text

typography:
  title:
    family: "'Courier New', 'Courier', monospace"
    size: 26px
    weight: 700
    letterSpacing: "0.4em"
    transform: uppercase
  labels:
    family: "'Courier New', 'Courier', monospace"
    size: 10px
    weight: 600
    letterSpacing: "0.25em"
    transform: uppercase
  toggleLabel:
    family: "'Courier New', 'Courier', monospace"
    size: 8px
    weight: 600
    letterSpacing: "0.2em"
    transform: uppercase
  toggleState:
    family: "'Courier New', 'Courier', monospace"
    size: 7px
    weight: 400
    letterSpacing: "0.1em"

layout:
  type: vertical-centered
  sections:
    - id: vu-meter-section
      height: 110
      marginBottom: 15
    - id: title-section
      height: 55
      marginBottom: 30
    - id: knobs-section
      height: 290

controls:
  # Top row: reverb controls (aligned with VU meter edges)
  - id: size
    type: rotary-knob
    label: "SIZE"
    parameter: "SIZE"
    range: [0.0, 100.0]
    unit: "%"
    default: 50.0
    style: tapeage-knob
    row: 1
    alignment: left-edge

  - id: decay
    type: rotary-knob
    label: "DECAY"
    parameter: "DECAY"
    range: [0.1, 10.0]
    unit: "s"
    default: 2.5
    style: tapeage-knob
    row: 1
    alignment: center

  - id: mix
    type: rotary-knob
    label: "MIX"
    parameter: "MIX"
    range: [0.0, 100.0]
    unit: "%"
    default: 25.0
    style: tapeage-knob
    row: 1
    alignment: right-edge

  # Bottom row: tape character controls (aligned with VU meter edges)
  - id: age
    type: rotary-knob
    label: "AGE"
    parameter: "AGE"
    range: [0.0, 100.0]
    unit: "%"
    default: 20.0
    style: tapeage-knob
    row: 2
    alignment: left-edge

  - id: drive
    type: rotary-knob
    label: "DRIVE"
    parameter: "DRIVE"
    range: [0.0, 100.0]
    unit: "%"
    default: 20.0
    style: tapeage-knob
    row: 2
    alignment: center

  - id: tone
    type: rotary-knob
    label: "TONE"
    parameter: "TONE"
    range: [-100.0, 100.0]
    unit: ""
    default: 0.0
    style: tapeage-knob
    row: 2
    alignment: right-edge

  # Mod Mode toggle (below Tone knob)
  - id: modMode
    type: toggle-switch
    label: "MOD MODE"
    parameter: "MOD_MODE"
    states: ["WET ONLY", "WET+DRY"]
    default: 0
    style: horizontal-slider
    position: below-tone

visuals:
  - id: title
    type: text
    content: "FLUTTERVERB"
    style: title
    alignment: center

  - id: vu-meter
    type: vu-meter-horizontal
    width: 480
    height: 100
    range: [-60, 0]  # dB range
    redZone: -6  # Red zone starts at -6dB
    source: output_peak
    style: classic-backlit
    updateRate: 30  # Hz
    markings: [-60, -40, -20, -10, -6, -3, 0]

effects:
  - scanLines: true  # Horizontal scan lines for retro hardware feel
  - vignette: true  # Heavy vignette around edges
  - goldGlow: true  # Subtle glow on brass elements
