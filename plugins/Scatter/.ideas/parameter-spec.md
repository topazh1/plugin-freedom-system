# Parameter Specification: Scatter

**CRITICAL CONTRACT:** This specification is immutable during implementation. Stage 1 Planning cannot proceed without this file. All subsequent stages reference these exact parameters.

**Generated by:** UI mockup finalization (ui-mockup skill, v4)
**Generated date:** 2025-11-13
**Referenced by:** Stage 2 (Shell), Stage 3 (DSP), Stage 4 (GUI)

## Total Parameter Count

**Total:** 9 parameters

## Parameter Definitions

### delay_time
- **Type:** Float
- **Range:** 100.0 to 2000.0 ms
- **Default:** 500.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, top-left position (large 90px diameter)
- **DSP Usage:** Delay time for granular buffer (with tempo-sync support)

### grain_size
- **Type:** Float
- **Range:** 5.0 to 500.0 ms
- **Default:** 100.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, top-right position (large 90px diameter)
- **DSP Usage:** Duration of each individual grain (with windowing to prevent clicks)

### density
- **Type:** Float
- **Range:** 0.0 to 100.0 %
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, middle-left position (large 90px diameter)
- **DSP Usage:** Grain spawn rate (overlap-based density control)

### pitch_random
- **Type:** Float
- **Range:** 0.0 to 100.0 %
- **Default:** 30.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, middle-right position (large 90px diameter)
- **DSP Usage:** Amount of pitch randomization (Â±7 semitone range, quantized to selected scale/root)

### scale
- **Type:** Choice
- **Range:** 0 to 4
- **Default:** 0 (Chromatic)
- **Options:** [Chromatic, Major, Minor, Pentatonic, Blues]
- **UI Control:** Combo box in header, left side
- **DSP Usage:** Musical scale for pitch quantization (maps random pitch to nearest scale note)

### root_note
- **Type:** Choice
- **Range:** 0 to 11
- **Default:** 0 (C)
- **Options:** [C, C#, D, D#, E, F, F#, G, G#, A, A#, B]
- **UI Control:** Combo box in header, right side
- **DSP Usage:** Root note for scale quantization (transposes scale to selected key)

### pan_random
- **Type:** Float
- **Range:** 0.0 to 100.0 %
- **Default:** 75.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, bottom-left position (large 90px diameter)
- **DSP Usage:** Amount of stereo randomization (per-grain random pan position)

### feedback
- **Type:** Float
- **Range:** 0.0 to 100.0 %
- **Default:** 30.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, bottom-center position (large 90px diameter)
- **DSP Usage:** Feedback amount (processed grains fed back into delay buffer)

### mix
- **Type:** Float
- **Range:** 0.0 to 100.0 %
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, bottom-right position (large 90px diameter)
- **DSP Usage:** Dry/wet mix (0% = dry signal only, 100% = wet signal only)

## Parameter Groups

**Timing Controls:**
- delay_time
- grain_size
- density

**Pitch Controls:**
- pitch_random
- scale
- root_note

**Spatial & Mix Controls:**
- pan_random
- feedback
- mix

## Notes

- Parameters are implemented in EXACT order during Stage 2
- Parameter IDs must remain consistent across all stages
- UI controls are implemented from finalized mockup (v4-ui.yaml) during Stage 4
- All float parameters use linear skew (no exponential scaling)
- Choice parameters map to consecutive integer indices
- Granular processing requires efficient voice management (polyphonic grain playback)
- Scale quantization requires lookup tables for each scale type
- Tempo sync for delay_time requires DAW playhead integration
